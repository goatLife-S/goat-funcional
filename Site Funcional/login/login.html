<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOAT+ | Login</title>
    <link rel="stylesheet" href="login.css">
</head>

<body>
    <div class="containerInteiro">
        <div class="container">
            <div class="titulo">
                <h2>GOAT+</h2>
            </div>
            <div class="container2">
                <h3>Login</h3>
                <input type="text" id="ipt_email" placeholder="Login" class="inputs">
                <br>
                <input type="password" id="ipt_senha" placeholder="Senha" class="inputs">
                <br>
                <div id="div_mensagem"></div>
                <span>Ainda não é cliente GOAT+?<span><a href="../cadastro/cadastro.html" id="conta"> Crie uma
                            conta.</a></span></span>
                <br>
                <button class="botao" onclick="entrar()">Entrar</button>
                <div class="sombra">

                </div>
            </div>
        </div>
    </div>

</body>

</html>

<script>
var tentativas = 3;

function entrar() {
    var login = ipt_email.value;
    var senha = ipt_senha.value;
    
    for (var i = 0; i < tentativas; i++) {
        if (login === "cindy@gmail.com" && senha === "8931002") {
            div_mensagem.innerHTML = `Login Correto!`;
            tentativas = 3; // Reinicia o número de tentativas
            setTimeout(function () {
                // Redireciona para a página do dashboard
                window.location.href = "../dashboard/dashboard.html";
            }, 2000);
            return;
        } else {
            tentativas--;
            if (tentativas === 0) {
                div_mensagem.innerHTML = `Usuário Bloqueado!`; 
            } else {
                div_mensagem.innerHTML = `Tentativas restantes: ${tentativas}`;
                alert(`Login incorreto!`);
            }
            return; // Retorna após cada tentativa, para que o loop não continue executando
        }
    }
}
</script>